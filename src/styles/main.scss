@import "/node_modules/bootstrap/scss/bootstrap.scss";

@import "spacer-utils.scss";

@import "utils.scss";
@import "tippy.scss";

// Global changes
.btn {
  @extend .btn-light;
}

body {
  @extend .user-select-none;
}

// main
.app-container {
  height: 100%;
  @include flex-column();
}

header,
footer {
  @include px(2);
  @include py(1);
  @extend .bg-light;
}

header {
  @include flex-row();
  align-items: center;
  justify-content: flex-start;
}

main {
  @include wh-100();
  @include flex-column();
  align-items: center;

  .loader {
    @include wh-100();
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .nav-container {
    @include flex-column();
    align-items: center;

    nav {
      justify-content: center;
    }
  }

  .main-container {
    width: 100%;
    @include flex-row();
    max-width: 1920px;
  }

  .env-container {
    @include flex-column();
  }

  .controls {
    @include flex-column();
  }
}

footer {
  @include flex-row();
  justify-content: flex-end;
}

// remove overflow from flexbox
.scrollable {
  overflow-y: auto;
}

// Custom badge
.number-annotation {
  @extend .number;
  @include p(1);

  display: inline-block;
  font-size: 0.75em;
  font-weight: 700;
  line-height: 1;
  text-align: center;
  white-space: nowrap;
  vertical-align: baseline;
  border-radius: 50rem;

  &:empty {
    display: none;
  }

  &.bg-danger,
  &.bg-success,
  &.bg-primary,
  &.bg-dark {
    @extend .text-light;
  }

  &.bg-secondary,
  &.bg-light {
    @extend .text-dark;
  }

  button > &,
  .btn > & {
    position: relative;
    top: -1px;
  }
}

// Tabs
main .nav {
  width: 100%;
  justify-content: center;

  @include pt(1);

  .nav-item {
    .nav-link {
      @include mx(1);
      @include pxy(2, 1);
    }
  }
}

.tippy-content {
  .card-header {
    @include pxy(3, 2);

    > * {
      @include mb(1);
      &:last-child {
        @include mb(0);
      }
    }

    .flavor {
      @extend .text-end, .text-muted, .fst-italic;
    }
  }

  ul.ingredients-list {
    @extend .list-group, .list-group-flush;

    > li {
      display: inline-flex;
      align-items: center;
      @include py(1);
      @extend .list-group-item;

      > .label {
        margin-right: auto;
        flex-grow: 1;
      }

      &.unfulfilled > .fulfillment {
        @extend .text-danger;
      }
    }
  }

  ul.effects-list {
    @extend .list-group, .list-group-flush;

    > li {
      @include py(1);
      @extend .list-group-item;
    }
  }
}

.number {
  font-family: var(--bs-font-monospace);
}

// resources
.resources-container {
  .no-resources {
    @include p(2);
  }

  .base-resources {
    @include flex-column();

    ul {
      @extend .list-group, .list-group-flush;

      > li {
        @include p(1);
        @extend .list-group-item, .small;

        .resource-modifier {
          margin-inline-start: bsize(1);
        }
      }
    }
  }
}

// controls
.btn .structure-level {
  @extend .number-annotation, .border;
}

.btn.capped {
  @extend .text-danger, .text-opacity-75;
}
